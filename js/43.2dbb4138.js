"use strict";(self["webpackChunkweek6"]=self["webpackChunkweek6"]||[]).push([[43],{422:function(t,i,s){function o(t){return{all:t=t||new Map,on:function(i,s){var o=t.get(i);o?o.push(s):t.set(i,[s])},off:function(i,s){var o=t.get(i);o&&(s?o.splice(o.indexOf(s)>>>0,1):t.set(i,[]))},emit:function(i,s){var o=t.get(i);o&&o.slice().map((function(t){t(s)})),(o=t.get("*"))&&o.slice().map((function(t){t(i,s)}))}}}s.d(i,{Z:function(){return n}});const c=o();var n=c},2043:function(t,i,s){s.r(i),s.d(i,{default:function(){return b}});var o=s(3396),c=s(7139);const n=(0,o._)("h1",null,"產品頁面total",-1),a={class:"container"},e={class:"row row-cols-1 row-cols-lg-4 g-5"},r={class:"card h-100"},l=["src"],d={class:"card-body"},u={class:"card-title"},h={class:"card-text"},p={class:"row align-items-center row-cols-2 row-cols-lg-2"},g=(0,o.Uk)("查看產品"),v=["onClick"];function f(t,i,s,f,w,m){const k=(0,o.up)("Loading"),_=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(k,{active:w.isLoading,"z-index":1060},null,8,["active"]),n,(0,o._)("div",a,[(0,o._)("div",e,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.products,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"col",key:t.id},[(0,o._)("div",r,[(0,o._)("img",{src:t.imagesUrl,class:"card-img-top",style:{width:"100%",height:"200px","object-fit":"contain"},alt:"..."},null,8,l),(0,o._)("div",d,[(0,o._)("h5",u,(0,c.zw)(t.title),1),(0,o._)("p",h,(0,c.zw)(t.description),1),(0,o._)("div",p,[(0,o.Wm)(_,{to:`/product/product/${t.id}`,class:"btn btn-outline-dark"},{default:(0,o.w5)((()=>[g])),_:2},1032,["to"]),(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:i=>m.addToCart(t.id)}," 加入購物車 ",8,v)])])])])))),128))])])],64)}var w=s(422),m={data(){return{products:[],isLoading:!1}},methods:{getProduct(){this.isLoading=!0,this.$http("https://vue3-course-api.hexschool.io/v2/api/evan-classuse/products/all").then((t=>{console.log(t),this.products=t.data.products,this.isLoading=!1})).catch((t=>{console.dir(t),this.isLoading=!1}))},addToCart(t,i=1){this.isLoading=!0;const s={product_id:t,qty:i};this.$http.post("https://vue3-course-api.hexschool.io/v2/api/evan-classuse/cart",{data:s}).then((()=>{w.Z.emit("get-cart"),this.getCartItem(),this.isLoading=!1})).catch((()=>{this.isLoading=!1}))}},created(){this.getProduct()}},k=s(89);const _=(0,k.Z)(m,[["render",f]]);var b=_}}]);
//# sourceMappingURL=43.2dbb4138.js.map